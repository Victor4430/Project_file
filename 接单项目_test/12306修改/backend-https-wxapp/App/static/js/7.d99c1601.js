(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"+mnW":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.searchable&&"top"===e.searchPlace?a("div",{staticClass:"search-con search-con-top"},[a("ButtonGroup",[e.outaddable?a("Button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("添加")]):e._e(),e._v(" "),e.outeditable?a("Button",{staticClass:"search-btn",on:{click:e.handleEdit}},[e._v("编辑")]):e._e(),e._v(" "),e.outviewable?a("Button",{staticClass:"search-btn",on:{click:e.handleView}},[e._v("查看")]):e._e(),e._v(" "),e.exportable?a("Button",{on:{click:e.exportExcel}},[e._v(e._s(e.exporttitle))]):e._e(),e._v(" "),e._t("extbuttons")],2),e._v(" "),a("div",{staticStyle:{float:"right"}},[a("Select",{staticClass:"search-col",style:e.searchkeystyle,model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},e._l(e.columns,function(t){return"handle"!==t.key&&""!==t.key&&"Array"!=t.type&&"Object"!=t.type&&"Boolean"!=t.type?a("Option",{key:"search-col-"+t.key,attrs:{value:t.key}},[e._v(e._s(t.title))]):e._e()})),e._v(" "),a("Input",{staticClass:"search-input",style:e.searchinputstyle,attrs:{clearable:"",placeholder:"输入关键字搜索"},on:{"on-change":e.handleClear,"on-keyup":function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),e._v(" "),a("Button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:e.handleSearch}},[a("Icon",{attrs:{type:"search"}}),e._v("搜索")],1),e._v(" "),e.refreshable?a("Button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:e.handleRefresh}},[a("Icon",{attrs:{type:"md-refresh",size:"16"}})],1):e._e()],1)],1):e._e(),e._v(" "),a("Table",{ref:"tablesMain",attrs:{data:e.insideTableData,columns:e.insideColumns,stripe:e.stripe,border:e.border,"show-header":e.showHeader,width:e.width,height:e.height,loading:e.loading,"disabled-hover":e.disabledHover,"highlight-row":e.highlightRow,"row-class-name":e.rowClassName,size:e.size,"no-data-text":e.noDataText,"no-filtered-data-text":e.noFilteredDataText},on:{"on-current-change":e.onCurrentChange,"on-select":e.onSelect,"on-select-cancel":e.onSelectCancel,"on-select-all":e.onSelectAll,"on-selection-change":e.onSelectionChange,"on-sort-change":e.onSortChange,"on-filter-change":e.onFilterChange,"on-row-click":e.onRowClick,"on-row-dblclick":e.onRowDblclick,"on-expand":e.onExpand}},[e._t("header",null,{slot:"header"}),e._v(" "),e._t("footer",null,{slot:"footer"}),e._v(" "),e._t("loading",null,{slot:"loading"})],2),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.data_show_total,current:e.data_show_page,"show-total":"","page-size":e.data_show_limit,"show-sizer":"","page-size-opts":[10,20,50,100]},on:{"on-change":e.handleChangeTablePage,"on-page-size-change":e.changePageSize}})],1)]),e._v(" "),e.searchable&&"bottom"===e.searchPlace?a("div",{staticClass:"search-con search-con-top"},[a("Select",{staticClass:"search-col",model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},e._l(e.columns,function(t){return"handle"!==t.key?a("Option",{key:"search-col-"+t.key,attrs:{value:t.key}},[e._v(e._s(t.title))]):e._e()})),e._v(" "),a("Input",{staticClass:"search-input",attrs:{placeholder:"输入关键字搜索"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),e._v(" "),a("Button",{staticClass:"search-btn",attrs:{type:"primary"}},[a("Icon",{attrs:{type:"search"}}),e._v("  搜索")],1)],1):e._e(),e._v(" "),a("a",{staticStyle:{display:"none",width:"0px",height:"0px"},attrs:{id:"hrefToExportTable"}})],1)},l=[],o=(a("Vd3H"),a("91GP"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tables-edit-outer"},[e.isEditting?a("div",{staticClass:"tables-editting-con"},[a("Input",{staticClass:"tables-edit-input",attrs:{value:e.value},on:{input:e.handleInput}}),e._v(" "),a("Button",{staticStyle:{padding:"6px 4px"},attrs:{type:"text"},on:{click:e.saveEdit}},[a("Icon",{attrs:{type:"md-checkmark"}})],1),e._v(" "),a("Button",{staticStyle:{padding:"6px 4px"},attrs:{type:"text"},on:{click:e.canceltEdit}},[a("Icon",{attrs:{type:"md-close"}})],1)],1):a("div",{staticClass:"tables-edit-con"},[a("span",{staticClass:"value-con"},[e._v(e._s(e.value))]),e._v(" "),e.editable?a("Button",{staticClass:"tables-edit-btn",staticStyle:{padding:"2px 4px"},attrs:{type:"text"},on:{click:e.startEdit}},[a("Icon",{attrs:{type:"md-create"}})],1):e._e()],1)])}),i=[],s={name:"TablesEdit",props:{value:[String,Number],edittingCellId:String,params:Object,editable:Boolean},computed:{isEditting:function(){return this.edittingCellId==="editting-".concat(this.params.index,"-").concat(this.params.column.key)}},methods:{handleInput:function(e){this.$emit("input",e)},startEdit:function(){this.$emit("on-start-edit",this.params)},saveEdit:function(){this.$emit("on-save-edit",this.params)},canceltEdit:function(){this.$emit("on-cancel-edit",this.params)}}},r=s,c=(a("Cgt2"),a("KHd+")),u=Object(c["a"])(r,o,i,!1,null,null,null),d=u.exports,h={delete:function(e,t,a){return e("Poptip",{props:{confirm:!0,title:"你确定要删除吗?"},on:{"on-ok":function(){a.$emit("on-delete",t),a.$emit("input",t.tableData.filter(function(e,a){return a!==t.row.initRowIndex}))}}},[e("Button",{props:{type:"text",ghost:!0}},[e("Icon",{props:{type:"md-trash",size:18,color:"#000000"}})])])}},p=h,f=a("wnYN"),m=(a("MNn9"),{name:"Tables",props:{value:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},size:String,width:{type:[Number,String]},height:{type:[Number,String]},stripe:{type:Boolean,default:!1},border:{type:Boolean,default:!1},showHeader:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClassName:{type:Function,default:function(){return""}},context:{type:Object},noDataText:{type:String},noFilteredDataText:{type:String},disabledHover:{type:Boolean},loading:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},exporttitle:{type:String,default:"导出为Csv文件"},searchinputstyle:{type:Object,default:function(){return{}}},searchkeystyle:{type:Object,default:function(){return{}}},searchPlace:{type:String,default:"top"},outeditable:{type:Boolean,default:!1},outviewable:{type:Boolean,default:!0},exportable:{type:Boolean,default:!0},outaddable:{type:Boolean,default:!0},refreshable:{type:Boolean,default:!1}},data:function(){return{insideColumns:[],insideTableData:[],initTableData:[],initTableValue:[],initFilterData:[],initSortData:[],edittingCellId:"",edittingText:"",searchValue:"",searchKey:"",data_show_total:0,data_show_page:1,data_show_limit:10,order:"",orderkey:"",ordertype:""}},methods:{suportEdit:function(e,t){var a=this;return e.render=function(e,t){return e(d,{props:{params:t,value:a.insideTableData[t.index][t.column.key],edittingCellId:a.edittingCellId,editable:a.editable},on:{input:function(e){a.edittingText=e},"on-start-edit":function(e){a.edittingCellId="editting-".concat(e.index,"-").concat(e.column.key),a.$emit("on-start-edit",e)},"on-cancel-edit":function(e){a.edittingCellId="",a.$emit("on-cancel-edit",e)},"on-save-edit":function(e){a.value[e.row.initRowIndex][e.column.key]=a.edittingText,a.$emit("input",a.value),a.$emit("on-save-edit",Object.assign(e,{value:a.edittingText})),a.edittingCellId=""}}})},e},surportHandle:function(e){var t=this,a=e.options||[],n=[];a.forEach(function(e){p[e]&&n.push(p[e])});var l=e.button?[].concat(n,e.button):n;return e.render=function(e,a){return a.tableData=t.value,e("div",l.map(function(n){return n(e,a,t)}))},e},handleColumns:function(e){var t=this;this.insideColumns=e.map(function(e,a){var n=e;return n.editable&&(n=t.suportEdit(n,a)),"handle"===n.key&&(n=t.surportHandle(n)),n})},setDefaultSearchKey:function(){void 0!=this.columns[0]&&(this.searchKey="handle"!==this.columns[0].key?this.columns[0].key:this.columns.length>1?this.columns[1].key:"")},handleClear:function(e){""===e.target.value&&this.handleSearch()},handleSearch:function(){var e=this;this.initFilterData=this.initTableValue.filter(function(t){var a=Object(f["s"])(t[e.searchKey]),n="";return n="object"==a||"array"==a?JSON.stringify(t[e.searchKey]):t[e.searchKey].toString(),n.toLowerCase().indexOf(e.searchValue.toLowerCase())>-1}),this.handleSort()},handleTableData:function(){this.initTableValue=this.value.map(function(e,t){var a=e;return a&&(a.initRowIndex=t),a}),this.handleSearch()},handleSort:function(){this.initSortData=this.initFilterData,this.initSortData.sort(this.compare(this.orderkey,this.ordertype,this.order)),this.handlePage()},handlePage:function(){this.data_show_total=this.initSortData.length,this.insideTableData=this.initSortData.slice((this.data_show_page-1)*this.data_show_limit,(this.data_show_page-1)*this.data_show_limit+this.data_show_limit)},compare:function(e,t,a){return function(n,l){var o=n[e],i=l[e];return"Number"===t?"asc"===a?o-i:i-o:"Date"===t?"asc"===a?new Date(o)-new Date(i):new Date(i)-new Date(o):"asc"===a?o>i:i>o}},handleChangeTablePage:function(e){this.data_show_page=e,this.handlePage()},changePageSize:function(e){this.data_show_limit=e,this.handlePage()},exportCsv:function(e){this.$refs.tablesMain.exportCsv(e)},clearCurrentRow:function(){this.$refs.talbesMain.clearCurrentRow()},onCurrentChange:function(e,t){this.$emit("on-current-change",e,t)},onSelect:function(e,t){this.$emit("on-select",e,t)},handleEdit:function(){this.$emit("on-edit")},handleView:function(){this.$emit("on-view")},handleRefresh:function(){this.$emit("on-refresh")},onSelectCancel:function(e,t){this.$emit("on-select-cancel",e,t)},onSelectAll:function(e){this.$emit("on-select-all",e)},onSelectionChange:function(e){this.$emit("on-selection-change",e)},onSortChange:function(e,t,a){this.order=e.order,this.orderkey=e.key,this.ordertype=e.column.type?e.column.type:"",this.handleSort()},onFilterChange:function(e){this.$emit("on-filter-change",e)},onRowClick:function(e,t){this.$emit("on-row-click",e,t)},onRowDblclick:function(e,t){this.$emit("on-row-dblclick",e,t)},onExpand:function(e,t){this.$emit("on-expand",e,t)},exportExcel:function(){this.$refs.tablesMain.exportCsv({filename:"table-".concat((new Date).valueOf(),".csv")})},handleAdd:function(){this.$emit("on-add")}},watch:{columns:function(e){this.handleColumns(e),this.setDefaultSearchKey()},value:function(e){this.handleTableData()}},mounted:function(){this.handleColumns(this.columns),this.setDefaultSearchKey(),this.handleTableData()}}),b=m,g=Object(c["a"])(b,n,l,!1,null,null,null),y=g.exports;t["a"]=y},"2PSu":function(e,t,a){"use strict";var n=a("Ly6T"),l=a.n(n);l.a},"3jbP":function(e,t,a){},"5cRF":function(e,t,a){"use strict";var n=a("SfSJ"),l=a.n(n);l.a},"77Pc":function(e,t,a){"use strict";var n=a("PpLe"),l=a.n(n);l.a},Cgt2:function(e,t,a){"use strict";var n=a("3jbP"),l=a.n(n);l.a},Ly6T:function(e,t,a){},LyE8:function(e,t,a){"use strict";var n=a("eeVq");e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},MNn9:function(e,t,a){},PpLe:function(e,t,a){},SfSJ:function(e,t,a){},ULSL:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{position:"relative"}},[a("Modal",{ref:"public_modal",class:"publicModal public-modal-layer"+e.layer,attrs:{width:e.fullscreen||e.fullscreen_status_value?null:e.width,styles:e.fullscreen||e.fullscreen_status_value?null:{top:e.top},fullscreen:e.fullscreen||e.fullscreen_status_value,loading:e.loading,closable:e.closable,"mask-closable":e.maskClosable,title:e.title,"ok-text":e.oktext,"cancel-text":e.canceltext,"footer-hide":e.nofooter,transfer:e.transfer},on:{"on-ok":e.buttonOk,"on-cancel":e.buttonCancel,"on-visible-change":e.visibleChange},model:{value:e._visible,callback:function(t){e._visible=t},expression:"_visible"}},[a("div",{staticClass:"ivu-modal-header-inner no-select",staticStyle:{"padding-right":"20px",position:"relative",overflow:"visible"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:e.icon}}),e._v("\r\n        "+e._s(e.title)+"\r\n        "),a("div",{staticClass:"custom-icon"},[e._t("extra-icon"),e._v(" "),a("Tooltip",{attrs:{slot:"extra-icon",content:"重置表单"},slot:"extra-icon"},[e.clearable?a("Icon",{attrs:{size:14,custom:"cmdb-font font-clearup"},nativeOn:{click:function(t){return e.buttonClear(t)}}}):e._e()],1),e._v(" "),a("Tooltip",{attrs:{slot:"extra-icon",content:e.fullscreen_status_value?"取消全屏":"全屏"},slot:"extra-icon"},[e.fullscreen?e._e():a("Icon",{attrs:{size:16,type:e.fullscreen_status_value?"md-contract":"md-expand"},nativeOn:{click:function(t){e.fullscreen_status_value=!e.fullscreen_status_value}}})],1)],2),e._v(" "),a("div",{staticClass:"custom-btn"},[e._t("extra-button")],2)],1),e._v(" "),a("div",{staticClass:"ivu-card-body",staticStyle:{position:"relative"},style:void 0!==e.bodyPadding?"padding:0!important;":""+!e.fullscreen_status_value&&e.scrollable?{height:e.cmdb.main_scrollheight+55+"px","overflow-y":"auto"}:""},[e._t("default")],2),e._v(" "),e._t("footer",null,{slot:"footer"})],2)],1)},l=[],o=a("yT7P"),i=a("L2JU"),s={name:"",data:function(){return{fullscreen_status_value:this.fullscreen_status}},computed:Object(o["a"])({},Object(i["d"])(["cmdb"]),{_visible:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}),watch:{fullscreen_status_value:function(e){this.$emit("full-change",e)}},props:{value:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},transfer:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},clearable:{type:Boolean,default:!1},nofooter:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},fullscreen_status:{type:Boolean,default:!1},width:{type:String,default:"50%"},top:{type:String,default:"20px"},title:{type:String,default:""},oktext:{type:String,default:"确定"},canceltext:{type:String,default:"取消"},icon:{type:String,default:""},layer:{type:Number,default:0},bodyPadding:{type:Number,default:function(){}}},methods:{buttonOk:function(){this.$emit("on-ok",this)},buttonCancel:function(){var e=this;this.$emit("on-cancel",this),setTimeout(function(){e.fullscreen_status_value=e.fullscreen_status},300)},buttonClear:function(){this.$emit("on-clear",this)},visibleChange:function(e){this.$emit("on-visible-change",this)}},created:function(){},mounted:function(){}},r=s,c=(a("5cRF"),a("KHd+")),u=Object(c["a"])(r,n,l,!1,null,null,null);t["a"]=u.exports},Vd3H:function(e,t,a){"use strict";var n=a("XKFU"),l=a("2OiF"),o=a("S/j/"),i=a("eeVq"),s=[].sort,r=[1,2,3];n(n.P+n.F*(i(function(){r.sort(void 0)})||!i(function(){r.sort(null)})||!a("LyE8")(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),l(e))}})},"yk3/":function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return i});var n=a("Zt8a"),l=n["a"].axios,o=function(e){return l.request({url:"get_privs_data",method:"get",params:{action:e}})},i=function(e){var t=e.form,a={form:t};return l.request({url:"get_privs_data",method:"put",data:a})}},zxYF:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Card",[a("tables",{ref:"tables",attrs:{outeditable:"",searchable:"","highlight-row":"","search-place":"top",columns:e.columns},on:{"on-delete":e.handleDelete,"on-current-change":e.handleSelect,"on-edit":e.handleEdit,"on-add":e.handleAdd,"on-view":e.handleView},model:{value:e.tableData,callback:function(t){e.tableData=t},expression:"tableData"}})],1),e._v(" "),a("privatemodel",{attrs:{title:e.modaltitle,edittype:e.modeledittype}})],1)},l=[],o=a("yT7P"),i=a("+mnW"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("public-modal",{attrs:{title:e.title,nofooter:"0"==e.edittype,width:"800"},on:{"on-ok":function(t){e.handleCommit("formValidate")},"on-cancel":function(t){e.handleReset("formValidate")}},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[a("Form",{ref:"formValidate",attrs:{model:e.model,rules:e.rule,"label-width":80}},[a("FormItem",{attrs:{label:"版本",prop:"version"}},[a("Input",{attrs:{placeholder:"版本"},model:{value:e.model.version,callback:function(t){e.$set(e.model,"version",t)},expression:"model.version"}})],1),e._v(" "),a("FormItem",{attrs:{label:"标题",prop:"title"}},[a("Input",{attrs:{placeholder:"请输入标题"},model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),e._v(" "),a("FormItem",{attrs:{label:"更新时间"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择版本更新时间"},model:{value:e.model.releasedate,callback:function(t){e.$set(e.model,"releasedate",t)},expression:"model.releasedate"}})],1),e._v(" "),a("FormItem",{attrs:{label:"内容"}},[e._l(e.model.msg,function(t,n){return a("Row",{key:n},[a("Col",{attrs:{span:18}},[a("Input",{attrs:{placeholder:"请输入更新内容",readonly:""},model:{value:e.model.msg[n],callback:function(t){e.$set(e.model.msg,n,t)},expression:"model.msg[index]"}})],1),e._v(" "),a("Col",{attrs:{span:6}},[a("Poptip",{attrs:{confirm:"",title:"确认删除内容？"},on:{"on-ok":function(t){e.handleAddDeleteContent(n)}}},[a("Button",{attrs:{icon:"ios-trash",type:"error"}},[e._v("删除内容")])],1)],1)],1)}),e._v(" "),a("Row",[a("Col",{attrs:{span:18}},[a("Input",{attrs:{placeholder:"请输入更新内容"},model:{value:e.newcontent,callback:function(t){e.newcontent=t},expression:"newcontent"}})],1),e._v(" "),a("Col",{attrs:{span:6}},[a("Button",{attrs:{icon:"md-add",type:"primary"},on:{click:e.handleAddAddContent}},[e._v("添加内容")])],1)],1)],2),e._v(" "),a("FormItem",{attrs:{label:"里程碑"}},[a("i-switch",{model:{value:e.model.trophy,callback:function(t){e.$set(e.model,"trophy",t)},expression:"model.trophy"}})],1),e._v(" "),a("FormItem",{attrs:{label:"颜色"}},[a("Select",{model:{value:e.model.color,callback:function(t){e.$set(e.model,"color",t)},expression:"model.color"}},e._l(e.colorList,function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])}))],1)],1)],1)],1)},r=[],c=(a("f3/d"),a("L2JU")),u=a("ULSL"),d=a("yk3/"),h=a("wnYN"),p={name:"Privatemodel",components:{publicModal:u["a"]},props:{title:{type:String,default:function(){return""}},edittype:{type:String,default:function(){return"0"}}},data:function(){return{initModel:{version:"",title:"",releasedate:"",msg:[],trophy:!1,color:"blue"},model:{version:"",title:"",releasedate:"",msg:[],trophy:!1,color:"blue"},typeList:[],rule:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],storeid:[{required:!0,message:"商家不能为空",trigger:"blur"}]},colorList:[{id:"blue",name:"blue"},{id:"red",name:"red"},{id:"green",name:"green"}],casdata:[],newcontent:""}},watch:{"$store.state.bureleaselog.bureleaselog_edit_obj":function(e){this.model=Object(h["c"])(this.$store.state.bureleaselog.bureleaselog_edit_obj)}},computed:{showModal:{get:function(){return this.$store.state.bureleaselog.bureleaselog_edit_show},set:function(e){this.$store.state.bureleaselog.bureleaselog_edit_show=e}}},methods:Object(o["a"])({},Object(c["b"])(["handleCreateBureleaselog","handleUpdateBureleaselog"]),{init:function(){"1"===this.edittype?this.model=Object(h["c"])(this.initModel):"2"===this.edittype&&(this.$store.state.bureleaselog.bureleaselog_edit_obj=Object(h["c"])(this.$store.state.bureleaselog.bureleaselog_select_obj))},handleReset:function(e){this.$refs[e].resetFields(),this.init()},handleCommit:function(e){var t=this;this.$refs[e].validate(function(a){a?(""!=t.model.releasedate&&(t.model.releasedate=new Date(t.model.releasedate).Format("yyyy-MM-dd")),"1"===t.edittype?t.$store.dispatch("handleCreateBureleaselog",{form:t.model}).then(function(a){t.$refs[e].resetFields(),t.init(),t.$Message.success("Success!")}).catch(function(e){t.$Message.error(e)}):"2"===t.edittype&&t.$store.dispatch("handleUpdateBureleaselog",{form:t.model}).then(function(a){t.$refs[e].resetFields(),t.init(),t.$Message.success("Success!")}).catch(function(e){t.$Message.error(e)})):t.$Message.error("Fail!")})},handleAddAddContent:function(){""==this.newcontent?this.$Message.error("请输入内容"):(this.model.msg.push(this.newcontent),this.newcontent="")},handleAddDeleteContent:function(e){this.model.msg.splice(e,1)}}),mounted:function(){var e=this;Object(d["a"])("get").then(function(t){var a=t.data.data;e.treeData=a.filter(function(e){return"数据权限"==e.name})[0];for(var n=0;n<e.treeData.value.length;n++)e.casdata.push(Object(h["r"])(e.treeData.value[n]))})},created:function(){this.model=Object(h["c"])(this.initModel)}},f=p,m=(a("2PSu"),a("KHd+")),b=Object(m["a"])(f,s,r,!1,null,null,null),g=b.exports,y={name:"Releaselog",components:{Tables:i["a"],Privatemodel:g},data:function(){return{modaltitle:"",modeledittype:"0",selectData:{},columns:[{title:"版本",key:"version",type:"String",sortable:!0,editable:!0},{title:"标题",key:"title",type:"String",sortable:!0,editable:!0},{title:"更新时间",key:"releasedate",type:"String",sortable:!0,editable:!0},{title:"里程碑",key:"trophy",type:"String"},{title:"操作",key:"handle",button:[function(e,t,a){return e("Poptip",{props:{confirm:!0,title:"你确定要删除吗?"},on:{"on-ok":function(){a.$emit("on-delete",t)}}},[e("Button","删除")])}]}],addModal:{version:"",title:"",releasedate:"",msg:[],trophy:!1,color:"blue"}}},methods:Object(o["a"])({},Object(c["b"])(["handleGetBureleaselog","handleDeleteBureleaselog"]),{handleDelete:function(e){var t=this;e.row.id?this.$store.dispatch("handleDeleteBureleaselog",e.row.id).then(function(e){t.selectData=JSON.parse(JSON.stringify({})),t.$Message.success("Success!")}).catch(function(e){t.$Message.error(e)}):this.$Message.error("请先选择数据")},handleAdd:function(){this.modaltitle="添加",this.modeledittype="1",this.$store.state.bureleaselog.bureleaselog_edit_obj=Object(h["c"])(this.addModal),this.$store.state.bureleaselog.bureleaselog_edit_show=!0},handleEdit:function(){this.selectData.id?(this.modaltitle="编辑",this.modeledittype="2",this.$store.state.bureleaselog.bureleaselog_edit_obj=Object(h["c"])(this.selectData),this.$store.state.bureleaselog.bureleaselog_select_obj=Object(h["c"])(this.selectData),this.$store.state.bureleaselog.bureleaselog_edit_show=!0):this.$Message.error("请先选择数据")},handleView:function(){this.selectData.id?(this.modaltitle="查看",this.modeledittype="0",this.$store.state.bureleaselog.bureleaselog_edit_obj=Object(h["c"])(this.selectData),this.$store.state.bureleaselog.bureleaselog_select_obj=Object(h["c"])(this.selectData),this.$store.state.bureleaselog.bureleaselog_edit_show=!0):this.$Message.error("请先选择数据")},handleSelect:function(e,t){this.selectData=JSON.parse(JSON.stringify(e))}}),computed:{tableData:{get:function(){return this.$store.state.bureleaselog.bureleaselog_list}}},mounted:function(){0===this.tableData.length&&this.$store.dispatch("handleGetBureleaselog").then(function(e){})}},v=y,_=(a("77Pc"),Object(m["a"])(v,n,l,!1,null,null,null)),w=_.exports;t["default"]=w}}]);